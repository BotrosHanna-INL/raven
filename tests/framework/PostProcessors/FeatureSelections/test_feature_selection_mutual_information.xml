<?xml version="1.0" ?>
<Simulation verbosity="all">
  <RunInfo>
    <WorkingDir>/Users/alfoa/projects/raven_github/raven/tests/framework/PostProcessors/FeatureSelections</WorkingDir>
    <Sequence>readIn, selectFeatures</Sequence>
    <batchSize>1</batchSize>
  </RunInfo>
  <TestInfo>
    <name>framework/PostProcessors/FeatureSelections.feature_selection_RFE</name>
    <author>alfoa</author>
    <created>2017-08-29</created>
    <classesTested>PostProcessors.Metric</classesTested>
    <description>
      This test checks the Metric PostProcessor
    </description>
    <revisions>
        <revision author="wangc" date="2017-12-06">convert to using new data objects</revision>
        <revision author="wangc" date="2017-11-20">restructure metric system, add time-dependent capability</revision>
    </revisions>
  </TestInfo>
  
  <RunInfo>
    <WorkingDir>.</WorkingDir>
    <Sequence>readIn,selectFeatures</Sequence>
    <batchSize>1</batchSize>
  </RunInfo>
  
  <VariableGroups>
    <Group name="allInputVars">Tube_1.infl.p,Tube_1.infl.w,Tube_1.infl.hAB,Tube_1.outfl.w,Tube_1.outfl.hAB,Tube_1.outfl.hBA,Tube_1.wall.T[2],Tube_1.wall.T[3],Tube_1.wall.T[4],Tube_1.wall.T[5],Tube_1.wall.T[6],Tube_1.wall.T[7],Tube_1.wall.T[8],Tube_1.wall.T[9],Tube_1.wall.T[10],Tube_1.wall.phi[1],Tube_1.wall.phi[2],Tube_1.wall.phi[3],Tube_1.wall.phi[4],Tube_1.wall.phi[5],Tube_1.wall.phi[6],Tube_1.wall.phi[7],Tube_1.wall.phi[8],Tube_1.wall.phi[9],Tube_1.wall.phi[10],Tube_1.Q,Tube_1.Tr,Tube_1.fluid[2].h,Tube_1.fluid[2].d,Tube_1.fluid[2].T,Tube_1.fluid[2].u,Tube_1.fluid[2].state.h,Tube_1.fluid[2].state.d,Tube_1.fluid[2].state.T,Tube_1.fluid[2].T_degC,Tube_1.fluid[3].h,Tube_1.fluid[3].d,Tube_1.fluid[3].T,Tube_1.fluid[3].u,Tube_1.fluid[3].state.h,Tube_1.fluid[3].state.d,Tube_1.fluid[3].state.T,Tube_1.fluid[3].T_degC,Tube_1.fluid[4].h,Tube_1.fluid[4].d,Tube_1.fluid[4].T,Tube_1.fluid[4].u,Tube_1.fluid[4].state.h,Tube_1.fluid[4].state.d,Tube_1.fluid[4].state.T,Tube_1.fluid[4].T_degC,Tube_1.fluid[5].h,Tube_1.fluid[5].d,Tube_1.fluid[5].T,Tube_1.fluid[5].u,Tube_1.fluid[5].state.h,Tube_1.fluid[5].state.d,Tube_1.fluid[5].state.T,Tube_1.fluid[5].T_degC,Tube_1.fluid[6].h,Tube_1.fluid[6].d,Tube_1.fluid[6].T,Tube_1.fluid[6].u,Tube_1.fluid[6].state.h,Tube_1.fluid[6].state.d,Tube_1.fluid[6].state.T,Tube_1.fluid[6].T_degC,Tube_1.fluid[7].h,Tube_1.fluid[7].d,Tube_1.fluid[7].T,Tube_1.fluid[7].u,Tube_1.fluid[7].state.h,Tube_1.fluid[7].state.d,Tube_1.fluid[7].state.T,Tube_1.fluid[7].T_degC,Tube_1.fluid[8].h,Tube_1.fluid[8].d,Tube_1.fluid[8].T,Tube_1.fluid[8].u,Tube_1.fluid[8].state.h,Tube_1.fluid[8].state.d,Tube_1.fluid[8].state.T,Tube_1.fluid[8].T_degC,Tube_1.fluid[9].h,Tube_1.fluid[9].d,Tube_1.fluid[9].T,Tube_1.fluid[9].u,Tube_1.fluid[9].state.h,Tube_1.fluid[9].state.d,Tube_1.fluid[9].state.T,Tube_1.fluid[9].T_degC,Tube_1.fluid[10].h,Tube_1.fluid[10].d,Tube_1.fluid[10].T,Tube_1.fluid[10].u,Tube_1.fluid[10].state.h,Tube_1.fluid[10].state.d,Tube_1.fluid[10].state.T,Tube_1.fluid[10].T_degC,Tube_1.Dpfric,Tube_1.Dpfric1,Tube_1.win,Tube_1.wout,Tube_1.w,Tube_1.wbar[1],Tube_1.wbar[2],Tube_1.wbar[3],Tube_1.wbar[4],Tube_1.wbar[5],Tube_1.wbar[6],Tube_1.wbar[7],Tube_1.wbar[8],Tube_1.wbar[9],Tube_1.u[1],Tube_1.u[2],Tube_1.u[3],Tube_1.u[4],Tube_1.u[5],Tube_1.u[6],Tube_1.u[7],Tube_1.u[8],Tube_1.u[9],Tube_1.u[10],Tube_1.T[2],Tube_1.T[3],Tube_1.T[4],Tube_1.T[5],Tube_1.T[6],Tube_1.T[7],Tube_1.T[8],Tube_1.T[9],Tube_1.T[10],Tube_1.h[2],Tube_1.h[3],Tube_1.h[4],Tube_1.h[5],Tube_1.h[6],Tube_1.h[7],Tube_1.h[8],Tube_1.h[9],Tube_1.h[10],Tube_1.htilde[1],Tube_1.der(htilde[1]),Tube_1.htilde[2],Tube_1.der(htilde[2]),Tube_1.htilde[3],Tube_1.der(htilde[3]),Tube_1.htilde[4],Tube_1.der(htilde[4]),Tube_1.htilde[5],Tube_1.der(htilde[5]),Tube_1.htilde[6],Tube_1.der(htilde[6]),Tube_1.htilde[7],Tube_1.der(htilde[7]),Tube_1.htilde[8],Tube_1.der(htilde[8]),Tube_1.htilde[9],Tube_1.der(htilde[9]),Tube_1.rho[2],Tube_1.rho[3],Tube_1.rho[4],Tube_1.rho[5],Tube_1.rho[6],Tube_1.rho[7],Tube_1.rho[8],Tube_1.rho[9],Tube_1.rho[10],Tube_1.M,Tube_1.dMdt[1],Tube_1.dMdt[2],Tube_1.dMdt[3],Tube_1.dMdt[4],Tube_1.dMdt[5],Tube_1.dMdt[6],Tube_1.dMdt[7],Tube_1.dMdt[8],Tube_1.dMdt[9],sink_1.flange.w,sink_1.flange.hBA,sourceW.flange.p,sourceW.flange.hAB,heatSource1D.wall.T[2],heatSource1D.wall.T[3],heatSource1D.wall.T[4],heatSource1D.wall.T[5],heatSource1D.wall.T[6],heatSource1D.wall.T[7],heatSource1D.wall.T[8],heatSource1D.wall.T[9],heatSource1D.wall.T[10],heatSource1D.wall.phi[1],heatSource1D.wall.phi[2],heatSource1D.wall.phi[3],heatSource1D.wall.phi[4],heatSource1D.wall.phi[5],heatSource1D.wall.phi[6],heatSource1D.wall.phi[7],heatSource1D.wall.phi[8],heatSource1D.wall.phi[9],heatSource1D.wall.phi[10],heatSource1D.power,sensT1.fluid.h,sensT1.fluid.d,sensT1.fluid.T,sensT1.fluid.u,sensT1.fluid.state.h,sensT1.fluid.state.d,sensT1.fluid.state.T,sensT1.fluid.T_degC,sensT1.inlet.w,sensT1.inlet.hAB,sensT1.inlet.hBA,sensT1.outlet.w,sensT1.outlet.hAB,sensT1.outlet.hBA,sensT1.T,sensW.inlet.w,sensW.inlet.hAB,sensW.inlet.hBA,sensW.outlet.w,sensW.outlet.hAB,sensW.outlet.hBA,sensW.w,sink_2.flange.w,Split_1.in1.p,Split_1.in1.hAB,Split_1.out1.p,Split_1.out1.w,Split_1.out2.p,Split_1.out2.w,Split_1.out2.hAB,Valve.w,Valve.inlet.p,Valve.inlet.w,Valve.outlet.w,Valve.cmd,s_sink.inlet.w,s_sink.outlet.w,s_sink.w,s_in.inlet.p,s_in.inlet.w,s_in.inlet.hAB,s_in.outlet.p,s_in.outlet.w,s_in.outlet.hAB,s_in.T,s_in.p,s_in.w,s_in.fluid.p,s_in.fluid.d,s_in.fluid.T,s_in.fluid.u,s_in.fluid.state.d,s_in.fluid.state.T,s_in.fluid.state.p,s_in.fluid.T_degC,s_in.fluid.p_bar,s_in.fluid.sat.psat,s_in.fluid.sat.Tsat,Split_2.in1.p,Split_2.in1.w,Split_2.in1.hAB,Split_2.out1.p,Split_2.out1.w,Split_2.out1.hAB,Split_2.out2.p,Split_2.out2.w,Split_2.out2.hAB,sensT2.fluid.h,sensT2.fluid.d,sensT2.fluid.T,sensT2.fluid.u,sensT2.fluid.state.h,sensT2.fluid.state.d,sensT2.fluid.state.T,sensT2.fluid.T_degC,sensT2.inlet.w,sensT2.inlet.hAB,sensT2.inlet.hBA,sensT2.outlet.w,sensT2.outlet.hAB,sensT2.outlet.hBA,sensT2.T,Join_1.out.w,Join_1.out.hBA,Join_1.in1.w,Join_1.in1.hAB,Join_1.in1.hBA,Join_1.in2.w,Join_1.in2.hAB,Join_1.in2.hBA,pDrop.inlet.p,pDrop.inlet.w,pDrop.inlet.hAB,pDrop.outlet.w,pDrop.outlet.hAB,Tube_2.infl.w,Tube_2.infl.hAB,Tube_2.outfl.w,Tube_2.outfl.hAB,Tube_2.outfl.hBA,Tube_2.wall.T[2],Tube_2.wall.T[3],Tube_2.wall.T[4],Tube_2.wall.T[5],Tube_2.wall.T[6],Tube_2.wall.T[7],Tube_2.wall.T[8],Tube_2.wall.T[9],Tube_2.wall.T[10],Tube_2.Tr,Tube_2.fluid[2].h,Tube_2.fluid[2].d,Tube_2.fluid[2].T,Tube_2.fluid[2].u,Tube_2.fluid[2].state.h,Tube_2.fluid[2].state.d,Tube_2.fluid[2].state.T,Tube_2.fluid[2].T_degC,Tube_2.fluid[3].h,Tube_2.fluid[3].d,Tube_2.fluid[3].T,Tube_2.fluid[3].u,Tube_2.fluid[3].state.h,Tube_2.fluid[3].state.d,Tube_2.fluid[3].state.T,Tube_2.fluid[3].T_degC,Tube_2.fluid[4].h,Tube_2.fluid[4].d,Tube_2.fluid[4].T,Tube_2.fluid[4].u,Tube_2.fluid[4].state.h,Tube_2.fluid[4].state.d,Tube_2.fluid[4].state.T,Tube_2.fluid[4].T_degC,Tube_2.fluid[5].h,Tube_2.fluid[5].d,Tube_2.fluid[5].T,Tube_2.fluid[5].u,Tube_2.fluid[5].state.h,Tube_2.fluid[5].state.d,Tube_2.fluid[5].state.T,Tube_2.fluid[5].T_degC,Tube_2.fluid[6].h,Tube_2.fluid[6].d,Tube_2.fluid[6].T,Tube_2.fluid[6].u,Tube_2.fluid[6].state.h,Tube_2.fluid[6].state.d,Tube_2.fluid[6].state.T,Tube_2.fluid[6].T_degC,Tube_2.fluid[7].h,Tube_2.fluid[7].d,Tube_2.fluid[7].T,Tube_2.fluid[7].u,Tube_2.fluid[7].state.h,Tube_2.fluid[7].state.d,Tube_2.fluid[7].state.T,Tube_2.fluid[7].T_degC,Tube_2.fluid[8].h,Tube_2.fluid[8].d,Tube_2.fluid[8].T,Tube_2.fluid[8].u,Tube_2.fluid[8].state.h,Tube_2.fluid[8].state.d,Tube_2.fluid[8].state.T,Tube_2.fluid[8].T_degC,Tube_2.fluid[9].h,Tube_2.fluid[9].d,Tube_2.fluid[9].T,Tube_2.fluid[9].u,Tube_2.fluid[9].state.h,Tube_2.fluid[9].state.d,Tube_2.fluid[9].state.T,Tube_2.fluid[9].T_degC,Tube_2.fluid[10].h,Tube_2.fluid[10].d,Tube_2.fluid[10].T,Tube_2.fluid[10].u,Tube_2.fluid[10].state.h,Tube_2.fluid[10].state.d,Tube_2.fluid[10].state.T,Tube_2.fluid[10].T_degC,Tube_2.win,Tube_2.wout,Tube_2.w,Tube_2.wbar[1],Tube_2.wbar[2],Tube_2.wbar[3],Tube_2.wbar[4],Tube_2.wbar[5],Tube_2.wbar[6],Tube_2.wbar[7],Tube_2.wbar[8],Tube_2.wbar[9],Tube_2.u[1],Tube_2.u[2],Tube_2.u[3],Tube_2.u[4],Tube_2.u[5],Tube_2.u[6],Tube_2.u[7],Tube_2.u[8],Tube_2.u[9],Tube_2.u[10],Tube_2.T[2],Tube_2.T[3],Tube_2.T[4],Tube_2.T[5],Tube_2.T[6],Tube_2.T[7],Tube_2.T[8],Tube_2.T[9],Tube_2.T[10],Tube_2.h[2],Tube_2.h[3],Tube_2.h[4],Tube_2.h[5],Tube_2.h[6],Tube_2.h[7],Tube_2.h[8],Tube_2.h[9],Tube_2.h[10],Tube_2.htilde[1],Tube_2.der(htilde[1]),Tube_2.htilde[2],Tube_2.der(htilde[2]),Tube_2.htilde[3],Tube_2.der(htilde[3]),Tube_2.htilde[4],Tube_2.der(htilde[4]),Tube_2.htilde[5],Tube_2.der(htilde[5]),Tube_2.htilde[6],Tube_2.der(htilde[6]),Tube_2.htilde[7],Tube_2.der(htilde[7]),Tube_2.htilde[8],Tube_2.der(htilde[8]),Tube_2.htilde[9],Tube_2.der(htilde[9]),Tube_2.rho[2],Tube_2.rho[3],Tube_2.rho[4],Tube_2.rho[5],Tube_2.rho[6],Tube_2.rho[7],Tube_2.rho[8],Tube_2.rho[9],Tube_2.rho[10],Tube_2.M,Tube_2.dMdt[1],Tube_2.dMdt[2],Tube_2.dMdt[3],Tube_2.dMdt[4],Tube_2.dMdt[5],Tube_2.dMdt[6],Tube_2.dMdt[7],Tube_2.dMdt[8],Tube_2.dMdt[9],s_Tube_2.inlet.w,s_Tube_2.inlet.hAB,s_Tube_2.outlet.w,s_Tube_2.outlet.hAB,s_Tube_2.w,PID_2.u_s,PID_2.u_m,PID_2.y,PID_2.controlError,PID_2.addP.u1,PID_2.addP.u2,PID_2.addP.y,PID_2.P.u,PID_2.P.y,PID_2.gainPID.u,PID_2.gainPID.y,PID_2.addPID.u1,PID_2.addPID.u3,PID_2.addPID.y,PID_2.limiter.u,PID_2.limiter.y,PID_2.addFF.u1,PID_2.addFF.y,heatSource1D1.wall.T[2],heatSource1D1.wall.T[3],heatSource1D1.wall.T[4],heatSource1D1.wall.T[5],heatSource1D1.wall.T[6],heatSource1D1.wall.T[7],heatSource1D1.wall.T[8],heatSource1D1.wall.T[9],heatSource1D1.wall.T[10],sp_2.y,add1.u2,add1.y,sp_1.y,add2.u2,add2.y,PID_2.I.u,PID_2.I.y,PID_2.I.der(y),PID_2.addI.u1,PID_2.addI.u2,PID_2.addI.u3,PID_2.addI.y,PID_2.addSat.u1,PID_2.addSat.u2,PID_2.addSat.y,PID_2.gainTrack.u,PID_2.gainTrack.y</Group>
    <Group name="outputvars">T_out1,T_out2</Group>
  </VariableGroups>
  
  <Files>
    <Input name="DataSetsFile">./MIMO_SingleRamp.csv</Input>
  </Files>
  
  <Models>
    <PostProcessor name="FeatureSelectionRFE" subType="FeatureSelection">
      <what>mutualInformation</what>
      <targets>outputvars</targets>
      <minimumNumberOfFeatures>10</minimumNumberOfFeatures>
    </PostProcessor>
  </Models>
  
  <Steps>
    <IOStep name="readIn" pauseAtEnd="True">
      <Input class="Files" type="">DataSetsFile</Input>
      <Output class="DataObjects" type="PointSet">DataSetsRaw</Output>
    </IOStep>
    <PostProcess name="selectFeatures" pauseAtEnd="True">
      <Input class="DataObjects" type="PointSet">DataSetsRaw</Input>
      <Model class="Models" type="PostProcessor">FeatureSelectionRFE</Model>
      <Output class="DataObjects" type="PointSet">pp_out</Output>
      <Output class="OutStreams" type="Print">printpp</Output>
    </PostProcess>
  </Steps>

  <DataObjects>
    <PointSet name="pp_out">
      <Output>FeatureSelectionRFE_T_out1,FeatureSelectionRFE_T_out2</Output>
    </PointSet>
    
    <PointSet name="DataSetsRaw">
      <Input>allInputVars</Input>
      <Output>outputvars</Output>
    </PointSet>
  </DataObjects>
 
  <OutStreams>
      <Print name="printpp">
        <type>csv</type>
        <source>pp_out</source>
      </Print>
  </OutStreams>

</Simulation>
