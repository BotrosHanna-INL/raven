<?xml version="1.0" ?>
<Simulation>

  <VariableGroups>
    <Group name="thrusterAInputs">AisolationValveLeak,AisolationValveStuckOpen,A0fuelStuckClosed,A0oxidizerStuckClosed,A0fuelStuckOpen,A0oxidizerStuckOpen,A0fuelOperation,A0oxidizerOperation,A0fuelLeak,A0oxidizerLeak,A0ExciterFailure,A1fuelStuckClosed,A1oxidizerStuckClosed,A1fuelStuckOpen,A1oxidizerStuckOpen,A1fuelOperation,A1oxidizerOperation,A1fuelLeak,A1oxidizerLeak,A1ExciterFailure</Group>
    <Group name="thrusterBInputs">BisolationValveLeak,BisolationValveStuckOpen,B0fuelStuckClosed,B0oxidizerStuckClosed,B0fuelStuckOpen,B0oxidizerStuckOpen,B0fuelOperation,B0oxidizerOperation,B0fuelLeak,B0oxidizerLeak,B0ExciterFailure,B1fuelStuckClosed,B1oxidizerStuckClosed,B1fuelStuckOpen,B1oxidizerStuckOpen,B1fuelOperation,B1oxidizerOperation,B1fuelLeak,B1oxidizerLeak,B1ExciterFailure</Group>
    <Group name="thrusterCInputs">CisolationValveLeak,CisolationValveStuckOpen,C0fuelStuckClosed,C0oxidizerStuckClosed,C0fuelStuckOpen,C0oxidizerStuckOpen,C0fuelOperation,C0oxidizerOperation,C0fuelLeak,C0oxidizerLeak,C0ExciterFailure,C1fuelStuckClosed,C1oxidizerStuckClosed,C1fuelStuckOpen,C1oxidizerStuckOpen,C1fuelOperation,C1oxidizerOperation,C1fuelLeak,C1oxidizerLeak,C1ExciterFailure</Group>

    <Group name="thrusterAOutputs">A_IsolationValveOpen,A_IsolationValveLeak,A0_Active,A0_FuelValveOperational,A0_FuelValveStuckOpen,A0_FuelValveStuckClosed,A0_FuelValveLeak,A0_OxidizerValveOperational,A0_OxidizerValveStuckOpen,A0_OxidizerValveStuckClosed,A0_OxidizerValveLeak,A0_ExciterOperational,A1_Active,A1_FuelValveOperational,A1_FuelValveStuckOpen,A1_FuelValveStuckClosed,A1_FuelValveLeak,A1_OxidizerValveOperational,A1_OxidizerValveStuckOpen,A1_OxidizerValveStuckClosed,A1_OxidizerValveLeak,A1_ExciterOperational</Group>
    <Group name="thrusterBOutputs">B_IsolationValveOpen,B_IsolationValveLeak,B0_Active,B0_FuelValveOperational,B0_FuelValveStuckOpen,B0_FuelValveStuckClosed,B0_FuelValveLeak,B0_OxidizerValveOperational,B0_OxidizerValveStuckOpen,B0_OxidizerValveStuckClosed,B0_OxidizerValveLeak,B0_ExciterOperational,B1_Active,B1_FuelValveOperational,B1_FuelValveStuckOpen,B1_FuelValveStuckClosed,B1_FuelValveLeak,B1_OxidizerValveOperational,B1_OxidizerValveStuckOpen,B1_OxidizerValveStuckClosed,B1_OxidizerValveLeak,B1_ExciterOperational</Group>
    <Group name="thrusterCOutputs">C_IsolationValveOpen,C_IsolationValveLeak,C0_Active,C0_FuelValveOperational,C0_FuelValveStuckOpen,C0_FuelValveStuckClosed,C0_FuelValveLeak,C0_OxidizerValveOperational,C0_OxidizerValveStuckOpen,C0_OxidizerValveStuckClosed,C0_OxidizerValveLeak,C0_ExciterOperational,C1_Active,C1_FuelValveOperational,C1_FuelValveStuckOpen,C1_FuelValveStuckClosed,C1_FuelValveLeak,C1_OxidizerValveOperational,C1_OxidizerValveStuckOpen,C1_OxidizerValveStuckClosed,C1_OxidizerValveLeak,C1_ExciterOperational</Group>
    <Group name="otherOutputs">time,CCF2,CCF3,LOM,LOC,LOV,MissionStage</Group>

    <Group base="thrusterAInputs" dependencies="thrusterAInputs,thrusterBInputs,thrusterCInputs" name="allInputs">+thrusterBInputs, +thrusterCInputs</Group>
    <Group base="thrusterAOutputs" dependencies="thrusterAOutputs,thrusterBOutputs,thrusterCOutputs,otherOutputs" name="allOutputs">+thrusterBOutputs, +thrusterCOutputs,+otherOutputs</Group>
  </VariableGroups>

  <!-- RUNINFO -->
  <RunInfo>
    <WorkingDir>t9</WorkingDir>
    <Sequence>sample,dump</Sequence>
    <batchSize>4</batchSize>
    <internalParallel>True</internalParallel>
  </RunInfo>

  <!-- STEPS -->
  <Steps>
    <MultiRun name="sample">
      <Input class="DataObjects" type="PointSet">inputPlaceHolder</Input>
      <Model class="Models" type="ExternalModel">PythonModule</Model>
      <Sampler class="Samplers" type="MonteCarlo">MC</Sampler>
      <Output class="DataObjects" type="HistorySet">data</Output>
    </MultiRun>
    <IOStep name="dump">
      <Input class="DataObjects" type="HistorySet">data</Input>
      <Output class="OutStreams" type="Print">data</Output>
    </IOStep>
  </Steps>

  <!-- MODELS -->
  <Models>
    <ExternalModel ModuleToLoad="../NASAmodel" name="PythonModule" subType="">
      <variables>allInputs,allOutputs</variables>
    </ExternalModel>
  </Models>

  <!-- DISTRIBUTIONS -->
  <Distributions>
    <Bernoulli name='isolationValveFailure'>
      <p>1.51e-6</p>
    </Bernoulli>

    <Exponential name="valveFailureToOpen">
      <lambda>2.05e-6</lambda>
    </Exponential>

    <Exponential name="valveFailureToClose">
      <lambda>1.51e-6</lambda>
    </Exponential>

    <Exponential name="valveFails">
      <lambda>9e-7</lambda>
    </Exponential>

    <Exponential name="valveLeaks">
      <lambda>5e-8</lambda>
    </Exponential>

    <Exponential name="exciterFails">
      <lambda>1.69e-5</lambda>
    </Exponential>

  </Distributions>

  <!-- SAMPLERS -->
  <Samplers>
    <MonteCarlo name="MC">
      <samplerInit>
        <limit>10000</limit>
        <initialSeed>9</initialSeed>
      </samplerInit>
      <!-- Isolation Valve Leaks -->
      <variable name="AisolationValveLeak">
        <distribution>valveLeaks</distribution>
      </variable>
      <variable name="BisolationValveLeak">
        <distribution>valveLeaks</distribution>
      </variable>
      <variable name="CisolationValveLeak">
        <distribution>valveLeaks</distribution>
      </variable>

      <!-- Isolation Valve Stuck Open -->
      <variable name="AisolationValveStuckOpen">
        <distribution>isolationValveFailure</distribution>
      </variable>
      <variable name="BisolationValveStuckOpen">
        <distribution>isolationValveFailure</distribution>
      </variable>
      <variable name="CisolationValveStuckOpen">
        <distribution>isolationValveFailure</distribution>
      </variable>

      <!-- Valve Stuck Closed -->
      <variable name="A0fuelStuckClosed">
        <distribution>valveFailureToOpen</distribution>
      </variable>
      <variable name="A0oxidizerStuckClosed">
        <distribution>valveFailureToOpen</distribution>
      </variable>
      <variable name="A1fuelStuckClosed">
        <distribution>valveFailureToOpen</distribution>
      </variable>
      <variable name="A1oxidizerStuckClosed">
        <distribution>valveFailureToOpen</distribution>
      </variable>
      <variable name="B0fuelStuckClosed">
        <distribution>valveFailureToOpen</distribution>
      </variable>
      <variable name="B0oxidizerStuckClosed">
        <distribution>valveFailureToOpen</distribution>
      </variable>
      <variable name="B1fuelStuckClosed">
        <distribution>valveFailureToOpen</distribution>
      </variable>
      <variable name="B1oxidizerStuckClosed">
        <distribution>valveFailureToOpen</distribution>
      </variable>
      <variable name="C0fuelStuckClosed">
        <distribution>valveFailureToOpen</distribution>
      </variable>
      <variable name="C0oxidizerStuckClosed">
        <distribution>valveFailureToOpen</distribution>
      </variable>
      <variable name="C1fuelStuckClosed">
        <distribution>valveFailureToOpen</distribution>
      </variable>
      <variable name="C1oxidizerStuckClosed">
        <distribution>valveFailureToOpen</distribution>
      </variable>

      <!-- Valve Stuck Open -->
      <variable name="A0fuelStuckOpen">
        <distribution>valveFailureToClose</distribution>
      </variable>
      <variable name="A0oxidizerStuckOpen">
        <distribution>valveFailureToClose</distribution>
      </variable>
      <variable name="A1fuelStuckOpen">
        <distribution>valveFailureToClose</distribution>
      </variable>
      <variable name="A1oxidizerStuckOpen">
        <distribution>valveFailureToClose</distribution>
      </variable>
      <variable name="B0fuelStuckOpen">
        <distribution>valveFailureToClose</distribution>
      </variable>
      <variable name="B0oxidizerStuckOpen">
        <distribution>valveFailureToClose</distribution>
      </variable>
      <variable name="B1fuelStuckOpen">
        <distribution>valveFailureToClose</distribution>
      </variable>
      <variable name="B1oxidizerStuckOpen">
        <distribution>valveFailureToClose</distribution>
      </variable>
      <variable name="C0fuelStuckOpen">
        <distribution>valveFailureToClose</distribution>
      </variable>
      <variable name="C0oxidizerStuckOpen">
        <distribution>valveFailureToClose</distribution>
      </variable>
      <variable name="C1fuelStuckOpen">
        <distribution>valveFailureToClose</distribution>
      </variable>
      <variable name="C1oxidizerStuckOpen">
        <distribution>valveFailureToClose</distribution>
      </variable>

      <!-- Valve Operation Failure -->
      <variable name="A0fuelOperation">
        <distribution>valveFails</distribution>
      </variable>
      <variable name="A0oxidizerOperation">
        <distribution>valveFails</distribution>
      </variable>
      <variable name="A1fuelOperation">
        <distribution>valveFails</distribution>
      </variable>
      <variable name="A1oxidizerOperation">
        <distribution>valveFails</distribution>
      </variable>
      <variable name="B0fuelOperation">
        <distribution>valveFails</distribution>
      </variable>
      <variable name="B0oxidizerOperation">
        <distribution>valveFails</distribution>
      </variable>
      <variable name="B1fuelOperation">
        <distribution>valveFails</distribution>
      </variable>
      <variable name="B1oxidizerOperation">
        <distribution>valveFails</distribution>
      </variable>
      <variable name="C0fuelOperation">
        <distribution>valveFails</distribution>
      </variable>
      <variable name="C0oxidizerOperation">
        <distribution>valveFails</distribution>
      </variable>
      <variable name="C1fuelOperation">
        <distribution>valveFails</distribution>
      </variable>
      <variable name="C1oxidizerOperation">
        <distribution>valveFails</distribution>
      </variable>

      <!-- Valve Leaks -->
      <variable name="A0fuelLeak">
        <distribution>valveLeaks</distribution>
      </variable>
      <variable name="A0oxidizerLeak">
        <distribution>valveLeaks</distribution>
      </variable>
      <variable name="A1fuelLeak">
        <distribution>valveLeaks</distribution>
      </variable>
      <variable name="A1oxidizerLeak">
        <distribution>valveLeaks</distribution>
      </variable>
      <variable name="B0fuelLeak">
        <distribution>valveLeaks</distribution>
      </variable>
      <variable name="B0oxidizerLeak">
        <distribution>valveLeaks</distribution>
      </variable>
      <variable name="B1fuelLeak">
        <distribution>valveLeaks</distribution>
      </variable>
      <variable name="B1oxidizerLeak">
        <distribution>valveLeaks</distribution>
      </variable>
      <variable name="C0fuelLeak">
        <distribution>valveLeaks</distribution>
      </variable>
      <variable name="C0oxidizerLeak">
        <distribution>valveLeaks</distribution>
      </variable>
      <variable name="C1fuelLeak">
        <distribution>valveLeaks</distribution>
      </variable>
      <variable name="C1oxidizerLeak">
        <distribution>valveLeaks</distribution>
      </variable>

      <!-- Exciter Failure -->
      <variable name="A0ExciterFailure">
        <distribution>exciterFails</distribution>
      </variable>
      <variable name="A1ExciterFailure">
        <distribution>exciterFails</distribution>
      </variable>
      <variable name="B0ExciterFailure">
        <distribution>exciterFails</distribution>
      </variable>
      <variable name="B1ExciterFailure">
        <distribution>exciterFails</distribution>
      </variable>
      <variable name="C0ExciterFailure">
        <distribution>exciterFails</distribution>
      </variable>
      <variable name="C1ExciterFailure">
        <distribution>exciterFails</distribution>
      </variable>
    </MonteCarlo>
  </Samplers>

  <!-- OUTSTREAMS -->
  <OutStreams>
    <Print name="data">
      <filename>NASA_data</filename>
      <type>csv</type>
      <source>data</source>
    </Print>
  </OutStreams>

  <!-- DATA OBJECTS -->
  <DataObjects>
    <PointSet name="inputPlaceHolder">
      <Input>allInputs</Input>
      <Output>OutputPlaceHolder</Output>
    </PointSet>
    <HistorySet name="data">
      <Input>allInputs</Input>
      <Output>allOutputs</Output>
    </HistorySet>
<!--     <PointSet name="data">
      <Input>A0fuelLeak</Input>
      <Output>allOutputs</Output>
    </PointSet> -->
  </DataObjects>

</Simulation>
